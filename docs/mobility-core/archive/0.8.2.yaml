openapi: 3.0.0
info:
  title: Beckn Mobility API
  description: Extension of core API for the mobility domain
  version: 0.8.2
  license:
    name: CC-BY-ND
    url: 'https://github.com/beckn/protocol-specifications/blob/master/LICENSE.md'
paths:
  /search:
    post:
      tags:
        - Beckn Provider Platform API
        - Beckn Gateway API
      description: Search by intent
      requestBody:
        description: BAP searches for Mobility services
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    intent:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_intent.json'
              required:
                - context
                - message
            examples:
              On Demand Search:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: search
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    intent:
                      pickups:
                        - location:
                            gps:
                              lat: '22.374394'
                              lon: '77.987982'
                      drops:
                        - location:
                            gps:
                              lat: '22.858762'
                              lon: '77.456712'
                      payload:
                        traveller_count: 1
              Scheduled Search:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: search
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    intent:
                      pickups:
                        - location:
                            gps:
                              lat: '22.374394'
                              lon: '77.987982'
                          time: '2020-08-18 15:22:31+05:30'
                      drops:
                        - location:
                            gps:
                              lat: '22.858762'
                              lon: '77.456712'
                          time: '2020-08-18 15:23:50+05:30'
                      payload:
                        traveller_count: 1
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /select:
    post:
      tags:
        - Beckn Provider Platform API
      description: Select the item and build order. This can be called multiple times. The on_select callback sends an updated quotation everytime the order is updated.
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
              required:
                - context
                - message
            examples:
              Provide trip details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: select
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        payload:
                          traveller_count: 1
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /init:
    post:
      tags:
        - Beckn Provider Platform API
      description: Initialize an Order. At this stage the BAP should send an updated order object with billing and fulfillment details if necessary
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
              required:
                - context
                - message
            examples:
              Provide billing details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: init
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: ''
                      items:
                        - id: 91e5cf38-8b07-4194-83de-40560679fd49
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        payload:
                          traveller_count: 1
                      billing:
                        customer:
                          name:
                            given_name: John Doe
                          email: john.doe@example.com
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /confirm:
    post:
      tags:
        - Beckn Provider Platform API
      description: Send transaction id to BPP to confirm payment
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
              required:
                - context
                - message
            examples:
              Provide ALL details to confirm Trip:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: confirm
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: ''
                      items:
                        - id: 91e5cf38-8b07-4194-83de-40560679fd49
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        payload:
                          traveller_count: 1
                          travellers:
                            - name:
                                given_name: John Doe
                              phones:
                                - '919897866754'
                      billing:
                        customer:
                          name:
                            given_name: John Doe
                          email: john.doe@example.com
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: John Doe
                        method: CASH
                        amount:
                          value:
                            integral: '125'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        payment_type: POST-FULFILLMENT
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /cancel:
    post:
      tags:
        - Beckn Provider Platform API
      description: Cancel a Trip
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        id:
                          $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/order.json#/properties/id'
                        cancellation_reason_id:
                          $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/option.json#/properties/id'
              required:
                - context
                - message
            examples:
              Cancel Trip:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: cancel
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: 136551c9-d543-4373-a900-1a56390f6803
                      cancellation_reason_id: 8b07
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /update:
    post:
      tags:
        - Beckn Provider Platform API
      description: Update a Trip
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    update_action:
                      type: string
                      enum:
                        - update_pickup
                        - update_drop
                        - update_traveller
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
              required:
                - context
                - message
            examples:
              Update drop:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: update
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    update_action: update_drop
                    order:
                      id: 136551c9-d543-4373-a900-1a56390f6803
                      trip:
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
              Update Traveller(s) Details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: update
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    update_action: update_traveller
                    order:
                      id: 136551c9-d543-4373-a900-1a56390f6803
                      payload:
                        traveller_count: 1
                        travellers:
                          - name:
                              given_name: John Doe
                            phones:
                              - '919897866754'
              Update Billing Details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: update
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    update_action: update_billing
                    order:
                      id: 136551c9-d543-4373-a900-1a56390f6803
                      billing:
                        customer:
                          name:
                            given_name: John Doe
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /status:
    post:
      tags:
        - Beckn Provider Platform API
      description: Fetch the status of an order
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      type: object
                      properties:
                        id:
                          $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/order.json#/properties/id'
              required:
                - context
                - message
            examples:
              Get Status of Order:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: status
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: 136551c9-d543-4373-a900-1a56390f6803
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /track:
    post:
      tags:
        - Beckn Provider Platform API
      description: Track an order
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order_id:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/order.json#/properties/id'
                    callback_url:
                      type: string
                      format: uri
              required:
                - context
                - message
            examples:
              Track Order - Pull:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: track
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order_id: d035fabe-96a4-4935-a822-d9da52fa322e
              Track Order - Push:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: track
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: ''
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    callback_url: 'ws://bap.example.com/order/d035fabe-96a4-4935-a822-d9da52fa322e/track:4000'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /feedback:
    post:
      tags:
        - Beckn Provider Platform API
      description: Provide feedback on a service
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/feedback.json'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /support:
    post:
      tags:
        - Beckn Provider Platform API
      description: Fetch customer support details
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/support.json'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_search:
    post:
      tags:
        - Beckn App Platform API
        - Beckn Gateway API
      description: Callback response to search
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    catalog:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_catalog.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Simple Cab Service:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_search
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    catalog:
                      categories:
                        - id: ae982481-1e54-448d-8085-aae195e1bc67
                          parent_category_id: null
                          descriptor:
                            name: Cab services
                            code: AUTORICKSHAW
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Cab
                          category_id: '2'
                          brand_id: '1'
                        - id: 91e5cf38-8b07-4194-83de-40765t6r7766
                          descriptor:
                            name: Shared Cab
                          category_id: '2'
                          brand_id: '1'
                      brands:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Society Cabs Pvt Ltd
                      fare_products:
                        - id: 136551c9-d543-4373-a900-1a56390f6803
                          descriptor:
                            name: SINGLE-JOURNEY
                            short_desc: Single Journey
              Autorickshaw Service:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_search
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    catalog:
                      categories:
                        - id: ae982481-1e54-448d-8085-aae195e1bc67
                          parent_category_id: null
                          descriptor:
                            name: Autorickshaw services
                            code: AUTORICKSHAW
                        - id: 2bc22b1b-8c75-410d-a93d-03e8c909c83e
                          parent_category_id: '1'
                          descriptor:
                            name: Daily commute
                            code: DAILY
                        - id: a5ac8ec5-58db-4edf-aabc-a8dc5f912212
                          parent_category_id: '1'
                          descriptor:
                            name: Rental
                            code: RENTAL
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Auto
                          category_id: '2'
                          brand_id: '1'
                        - id: 91e5cf38-8b07-4194-83de-40765t6r7766
                          descriptor:
                            name: Share Auto
                          category_id: '2'
                          brand_id: '1'
                        - id: b584f536-a9c7-4e65-be56-51c9c52a13f0
                          descriptor:
                            name: Daily Rental Auto
                          category_id: '3'
                          brand_id: '1'
                      brands:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: The Electric Auto Company
                      offers:
                        - id: a1e1809a-0224-4ff2-a3f8-e1342846dce1
                          descriptor:
                            code: MONSOON
                            short_desc: 'Rides at 25% off till August 31st, 2020'
                          applies_to: BRAND
                          ids:
                            - 617c9ecf-669c-4693-b137-aa05e12e48f2
                          start_date: '2020-08-15 00:00:00'
                          end_date: '2020-10-15 23:59:59'
                        - id: a1e1809a-0224-4ff2-a3f8-e1342846dce1
                          descriptor:
                            code: INDIA74
                            short_desc: 'Rides at 40% off on August 15th, 2020'
                          applies_to: ITEM
                          ids:
                            - 617c9ecf-669c-4693-b137-aa05e12e48f2
                          start_date: '2020-08-15 00:00:00'
                          end_date: '2020-10-15 23:59:59'
                      fare_products:
                        - id: 136551c9-d543-4373-a900-1a56390f6803
                          descriptor:
                            name: SINGLE-JOURNEY
                            short_desc: Single Journey
                        - id: 136551c9-d543-4373-a900-1a56390f6803
                          descriptor:
                            name: MONTHLY-PASS
                            short_desc: Monthly pass
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_search/end:
    post:
      tags:
        - Beckn App Platform API
      description: End of search results
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
            examples:
              End of callback:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_search/end
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    type: object
                    properties:
                      ack:
                        $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_select:
    post:
      tags:
        - Beckn App Platform API
      description: Send updated quote based on draft order
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Updated quote:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_select
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: ''
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Cab
                          category_id: '2'
                          brand_id: '1'
                      fare_product:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                        descriptor:
                          name: SINGLE-JOURNEY
                          short_desc: Single Journey
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                      cancellation_reasons:
                        - id: '1'
                          descriptor:
                            short_desc: Changed my mind
                        - id: '2'
                          descriptor:
                            short_desc: Driver taking too long
                        - id: '3'
                          descriptor:
                            short_desc: Driver asked me to cancel
                        - id: '4'
                          descriptor:
                            short_desc: Could not contact driver
                      quotation:
                        id: 53248d02-6ba0-458e-8bd3-01e3a89e1f88
                        price:
                          currency: INR
                          estimated_value:
                            integral: '128'
                        ttl: PT10M
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_init:
    post:
      tags:
        - Beckn App Platform API
      description: Send payment terms as per billing details
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Draft Order with CASH payment:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_init
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: ''
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Cab
                          category_id: '2'
                          brand_id: '1'
                      fare_product:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                        descriptor:
                          name: SINGLE-JOURNEY
                          short_desc: Single Journey
                      cancellation_reasons:
                        - id: '1'
                          descriptor:
                            short_desc: Changed my mind
                        - id: '2'
                          descriptor:
                            short_desc: Driver taking too long
                        - id: '3'
                          descriptor:
                            short_desc: Driver asked me to cancel
                        - id: '4'
                          descriptor:
                            short_desc: Could not contact driver
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                      quotation:
                        id: 53248d02-6ba0-458e-8bd3-01e3a89e1f88
                        price:
                          currency: INR
                          estimated_value:
                            integral: '128'
                        ttl: PT5M
                      billing:
                        customer:
                          name:
                            given_name: John Doe
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: John
                        payee:
                          type: person
                        method: CASH
                        amount:
                          value:
                            integral: '125'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        payment_type: POST-FULFILLMENT
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_confirm:
    post:
      tags:
        - Beckn App Platform API
      description: Callback response to checkout. Returns a mobility order. This contains the trip object with the updated state
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Confirmed Order with Trip Details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_confirm
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: 7d770f4a-a93e-4860-9ae6-d197cd0d298e
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Cab
                          category_id: '2'
                          brand_id: '1'
                      fare_product:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                        descriptor:
                          name: SINGLE-JOURNEY
                          short_desc: Single Journey
                      quotation:
                        id: 53248d02-6ba0-458e-8bd3-01e3a89e1f88
                        price:
                          currency: INR
                          estimated_value:
                            integral: '128'
                      billing:
                        customer:
                          name:
                            given_name: John
                            email: john.doe@example.com
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: John
                        payee:
                          type: person
                          person:
                            name:
                              given_name: Jevin Samuel
                        method: CASH
                        amount:
                          value:
                            integral: '128'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        payment_type: POST-FULFILLMENT
                      trip:
                        id: a5ac8ec5-58db-4edf-aabc-a8dc5f912212
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        vehicle:
                          category: CAR
                          capacity: 4
                          make: Toyota
                          model: Etios
                          variant: Liva
                          color: White
                          registration:
                            category: COMMERCIAL
                            number: KA01TA1243
                        payload:
                          traveller_count: 1
                          travellers:
                            - phones:
                                - '919897866754'
                        route:
                          edge:
                            path: _p~iF~ps|U_ulLnnqC_mqNvxq`@
                            duration: 22m
                            distance:
                              value: '9.5'
                              unit: km
                        driver:
                          name:
                            given_name: Jevin Samuel
                          rating:
                            value: '4.5'
                            unit: STARS
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_cancel:
    post:
      tags:
        - Beckn App Platform API
      description: Send cancelled order
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    cancellation_id:
                      type: string
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Cancellation of Order without Payment:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_cancel
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: 7d770f4a-a93e-4860-9ae6-d197cd0d298e
                      state:
                        descriptor:
                          code: CANCELLED
                          updated_by: TRAVELLER
                      cancellation_reason_id: 8b07
                      items:
                        - id: 91e5cf38-8b07-4194-83de-40560679fd49
                          descriptor:
                            name: Society Cabs
                            category_id: '1'
                          price:
                            currency: INR
                            offered_value:
                              integral: '122'
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        vehicle:
                          category: CAR
                          capacity: 4
                          make: Toyota
                          model: Etios
                          variant: Liva
                          color: White
                          registration:
                            type: object
                            properties:
                              category: COMMERCIAL
                              number: KA01TA1243
                        payload:
                          traveller_count: 1
                          travellers:
                            - phones:
                                - '919897866754'
                        route:
                          edge:
                            path: ''
                            duration: 22m
                            distance:
                              value: '9.5'
                              unit: km
                        driver:
                          name:
                            given_name: Jevin Samuel
                          rating:
                            value: '4.5'
                            unit: STARS
                      billing:
                        customer:
                          name:
                            given_name: John Doe
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: Ravi Prakash
                        payee:
                          type: vpa
                          vpa: uber@okaxis
                        method: UPI
                        amount:
                          value:
                            integral: '20'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        type: CANCELLATION-CHARGES
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_update:
    post:
      tags:
        - Beckn App Platform API
      description: Returns updated order
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/b84f362f6a4965bb01891a15f17397660e25b939/mobility/v0/schema/mobility_order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Updated order:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_update
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    update_action: on_update_drop
                    order:
                      id: 7d770f4a-a93e-4860-9ae6-d197cd0d298e
                      items:
                        - id: 91e5cf38-8b07-4194-83de-40560679fd49
                          descriptor:
                            name: Society Cabs
                            category_id: '1'
                          price:
                            currency: INR
                            offered_value:
                              integral: '122'
                      trip:
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        vehicle:
                          category: CAR
                          capacity: 4
                          make: Toyota
                          model: Etios
                          variant: Liva
                          color: White
                          registration:
                            type: object
                            properties:
                              category: COMMERCIAL
                              number: KA01TA1243
                        payload:
                          traveller_count: 1
                          travellers:
                            - phones:
                                - '919897866754'
                        route:
                          edge:
                            path: ''
                            duration: 22m
                            distance:
                              value: '9.5'
                              unit: km
                        driver:
                          name:
                            given_name: Jevin Samuel
                          rating:
                            value: '4.5'
                            unit: STARS
                      billing:
                        customer:
                          name:
                            given_name: John Doe
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: John Doe
                        payee:
                          type: person
                          person:
                            name:
                              given_name: Jevin Samuel
                        method: CASH
                        amount:
                          value:
                            integral: '125'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        payment_type: POST-FULFILLMENT
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_status:
    post:
      tags:
        - Beckn App Platform API
      description: Fetch order info
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    order:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/order.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Confirmed Order with Trip Details:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_confirm
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    order:
                      id: 7d770f4a-a93e-4860-9ae6-d197cd0d298e
                      items:
                        - id: 617c9ecf-669c-4693-b137-aa05e12e48f2
                          descriptor:
                            name: Single Cab
                          category_id: '2'
                          brand_id: '1'
                      fare_product:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                        descriptor:
                          name: SINGLE-JOURNEY
                          short_desc: Single Journey
                      quotation:
                        id: 53248d02-6ba0-458e-8bd3-01e3a89e1f88
                        price:
                          currency: INR
                          estimated_value:
                            integral: '128'
                      billing:
                        customer:
                          name:
                            given_name: John
                            email: john.doe@example.com
                      payment:
                        payer:
                          type: person
                          person:
                            name:
                              given_name: John
                        payee:
                          type: person
                          person:
                            name:
                              given_name: Jevin Samuel
                        method: CASH
                        amount:
                          value:
                            integral: '128'
                            fractional: '0'
                        supported_currencies:
                          - INR
                        payment_type: POST-FULFILLMENT
                      trip:
                        id: a5ac8ec5-58db-4edf-aabc-a8dc5f912212
                        pickup:
                          gps:
                            lat: '22.374394'
                            lon: '77.456712'
                        drop:
                          gps:
                            lat: '22.514251'
                            lon: '77.089876'
                        vehicle:
                          category: CAR
                          capacity: 4
                          make: Toyota
                          model: Etios
                          variant: Liva
                          color: White
                          registration:
                            category: COMMERCIAL
                            number: KA01TA1243
                        payload:
                          traveller_count: 1
                          travellers:
                            - phones:
                                - '919897866754'
                        route:
                          edge:
                            path: _p~iF~ps|U_ulLnnqC_mqNvxq`@
                            duration: 22m
                            distance:
                              value: '9.5'
                              unit: km
                        driver:
                          name:
                            given_name: Jevin Samuel
                          rating:
                            value: '4.5'
                            unit: STARS
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
  /on_track:
    post:
      tags:
        - Beckn App Platform API
      description: Provide tracking info
      requestBody:
        description: TODO
        content:
          application/json:
            schema:
              type: object
              properties:
                context:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                message:
                  type: object
                  properties:
                    tracking:
                      $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/tracking.json'
                error:
                  $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'
            examples:
              Tracking Details for Pull type tracking:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_track
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    tracking:
                      method: pull
                      order:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                      state:
                        descriptor:
                          name: active
                      pull:
                        url: 'https://api.example.com/order/136551c9-d543-4373-a900-1a56390f6803/track'
              Tracking Details for Push type tracking:
                value:
                  context:
                    domain: MOBILITY
                    country: IND
                    city: BLR
                    action: on_track
                    core_version: 0.8.2
                    domain_version: 0.8.2
                    bap_uri: 'http://bap.api.example.com'
                    bpp_uri: 'http://bpp.api.example.com'
                    transaction_id: d035fabe-96a4-4935-a822-d9da52fa322e
                    message_id: 18a42164-c077-4659-9a0f-560a1dfebf9f
                    timestamp: '2020-07-15T06:43:14.653Z'
                  message:
                    tracking:
                      method: push
                      order:
                        id: 136551c9-d543-4373-a900-1a56390f6803
                      state:
                        descriptor:
                          name: active
                      push:
                        url: 'ws://bpp.example.com/order/136551c9-d543-4373-a900-1a56390f6803/track:5000'
      responses:
        '200':
          description: Acknowledgement of message received
          content:
            application/json:
              schema:
                type: object
                properties:
                  context:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/context.json'
                  message:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/ack.json'
                  error:
                    $ref: 'https://raw.githubusercontent.com/beckn/protocol-specifications/89e04f8ffbe3ec22f1673edd3af6ca6d7da9cbc5/core/v0/schema/error.json'